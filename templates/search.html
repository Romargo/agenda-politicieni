{% extends 'layout.html' %}

{% block header %}
  <div class="row">
    <h1 class="span4">Persoane</h1>
    <form class="span8 offset1 form-stacked person-filter">
      <div class="row">
        <div class="span2">
          <label for="filter-office">Funcție</label>
          <select name="office" class="span2" id="filter-office">
            <option value=""></option>
            <option value="senator">Senator</option>
            <option value="deputy">Deputat</option>
          </select>
        </div>
        <div class="span2">
          <label for="filter-college">Circumscripție</label>
          <select name="college" class="span2" id="filter-college">
            <option value=""></option>
            <option value="">1</option>
            <option value="">2</option>
          </select>
        </div>
      </div>
    </form>
  </div>
{% endblock %}

{% block content %}

<div class="row">
  <div class="span14 person-listing">

    <ul class="unstyled">
    {%- for person in persons %}

      <li>
        {% set url = url_for('webpages.person', person_id=person.id) %}
        <a href="{{ url }}">{{ person.name }}</a>
      </li>

    {% endfor -%}
    </ul>

  </div>
</div>

<script>
$(function() {
    $('.person-filter select').change(function() {
        $(this).parents('form').submit();
    });
});
</script>

{% endblock %}
